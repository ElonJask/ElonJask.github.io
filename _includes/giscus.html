{% if page.comments != false and site.giscus and site.giscus.repo_id and site.giscus.category_id %}
<div class="giscus-container">
  <script src="https://giscus.app/client.js"
    data-repo="{{ site.repo }}"
    data-repo-id="{{ site.giscus.repo_id }}"
    data-category="{{ site.giscus.category | default: 'General' }}"
    data-category-id="{{ site.giscus.category_id }}"
    data-mapping="specific"
    data-term="{{ page.path | split: '/' | last | replace: '.md', '' }}"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="{% assign current_lang = page.lang | default: site.lang %}{% if current_lang == 'en-US' or current_lang == 'en' %}en{% else %}zh-CN{% endif %}"
    crossorigin="anonymous"
    async>
  </script>
</div>
{% endif %}
